(this.webpackJsonprepanda=this.webpackJsonprepanda||[]).push([[0],{30:function(e,t,a){e.exports=a(59)},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(27),l=a.n(r),s=a(1),o=a(7);function u(e){var t=e.link,a=e.text;return c.a.createElement(o.b,{display:"block",to:t},c.a.createElement("button",{className:"mx-4 my-4 bg-teal-500 hover:bg-teal-600 active:bg-teal-700 text-white font-semibold py-2 px-4 border border-grey-400 rounded shadow"},a))}function m(e){var t=e.action,a=e.text;return c.a.createElement("button",{className:"mx-4 my-4 bg-teal-500 hover:bg-teal-600 active:bg-teal-700 text-white font-semibold py-2 px-4 border border-grey-400 rounded shadow",onClick:t},a)}function i(){return c.a.createElement("button",{className:"mx-4 my-4 bg-teal-700 text-white font-semibold py-2 px-4 border border-grey-400 rounded shadow"},"Loading!")}function d(e){var t=e.link,a=e.text;return c.a.createElement(o.b,{display:"inline-block",to:t},c.a.createElement("button",{className:"inline-block text-teal-200 hover:text-white mr-4"},a))}function b(e){var t=e.actions,a=e.texts;return c.a.createElement("div",{class:"flex justify-center py-5 px-2"},t.map((function(e,t){return c.a.createElement("button",{class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 mx-2 rounded-l",onClick:e},a[t])})))}function E(e){var t=e.child;return c.a.createElement("div",{className:"inline-block w-full max-w-sm rounded bg-gray-100 overflow-hidden shadow-lg text-center mt-5"},c.a.createElement("div",{className:"px-10 py-5"},t))}function p(e){var t=e.child;return c.a.createElement("div",{className:"inline-block max-w-full rounded bg-gray-100 overflow-hidden shadow-lg text-center mt-5"},c.a.createElement("div",{className:"px-10 py-5"},t))}function f(e){var t=c.a.createElement("div",null,c.a.createElement("div",{className:"py-8 px-4"},c.a.createElement("p",{className:"py-2"},"Employees are your most important asset"),c.a.createElement("p",{className:"py-2"},"Keeping them engaged make them more productive and reduces attrition, saving you time and money usually spend on hiring"),c.a.createElement("p",{className:"py-2"},"Let's get your free trial started")),c.a.createElement("div",null,c.a.createElement(u,{link:"/register",text:"Register"})));return c.a.createElement(E,{child:t})}var v=a(9),h=a(3),g=a.n(h),x=a(15),y=a.n(x),j="https://surveypandaa.appspot.com/";function O(e,t){var a=j+e;return y.a.post(a,t)}function w(e){var t=j+e;return y.a.get(t)}var k=function(e){return c.a.createElement("div",{className:"text-gray-700 font-bold mb-1 text-left"},e.text)},N=function(e){var t=e.value,a=e.setValue,n=e.type,r=e.placeholder;return c.a.createElement("div",{className:"block"},c.a.createElement("input",{className:"appearance-none w-full text-gray-700 border rounded py-3 px-4 mb-6 leading-tight focus:outline-none focus:border-teal-500",value:t,onChange:function(e){return a(e.target.value)},placeholder:r,type:n}))};function S(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),d=u[0],b=u[1],E=Object(n.useState)(""),f=Object(s.a)(E,2),h=f[0],x=f[1],y=Object(n.useState)(""),j=Object(s.a)(y,2),w=j[0],S=j[1],C=Object(n.useState)(""),I=Object(s.a)(C,2),V=I[0],T=I[1],L=Object(n.useState)(""),D=Object(s.a)(L,2),M=D[0],P=D[1],q=Object(n.useState)({submitted:!1,error:null,message:null}),F=Object(s.a)(q,2),B=F[0],J=F[1],W=Object(n.useState)(!1),A=Object(s.a)(W,2),K=A[0],Q=A[1],R=Object(n.useState)(!1),Y=Object(s.a)(R,2),$=Y[0],z=Y[1];var G=c.a.createElement("div",{className:"w-full"},c.a.createElement(k,{text:"Email"}),c.a.createElement(N,{value:r,setValue:l}),c.a.createElement(k,{text:"Password"}),c.a.createElement(N,{value:d,type:"password",setValue:b}),c.a.createElement("div",{className:"flex md:block"},c.a.createElement("div",{className:"inline-block pr-2"},c.a.createElement(k,{text:"Company Name"}),c.a.createElement(N,{value:h,setValue:x})),c.a.createElement("div",{className:"inline-block pl-2"},c.a.createElement(k,{text:"Company Industry"}),c.a.createElement(N,{value:V,setValue:T}))),c.a.createElement("div",{className:"flex md:block"},c.a.createElement("div",{className:"inline-block pr-2"},c.a.createElement(k,{text:"First Name"}),c.a.createElement(N,{value:w,setValue:S})),c.a.createElement("div",{className:"inline-block pl-2"},c.a.createElement(k,{text:"Invitation Code"}),c.a.createElement(N,{value:M,setValue:P}))),$?c.a.createElement(i,null):c.a.createElement(m,{action:function(){var e;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e={email:r,password:d,name:h,inudstry:V,firstName:w,code:M},t.prev=1,z(!0),t.next=5,g.a.awrap(O("user/new",e));case 5:t.sent,z(!1),J({submitted:!0,error:!1,message:null}),setTimeout((function(){Q(!0)}),5e3),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),J({submitted:!0,error:!0,message:t.t0.response.data?t.t0.response.data:"Error connecting to backend"}),setTimeout((function(){J({submitted:!1,error:null,message:null})}),5e3);case 15:case"end":return t.stop()}}),null,null,[[1,11]])},text:"submit"})),H=K?c.a.createElement(v.a,{to:"/"}):c.a.createElement("h2",null,"Success! Verify your email before logging in, don't forget to check your spam folder!"),U=c.a.createElement("div",null,c.a.createElement("h2",null,"Error! redirecting back in 5 seconds..."),c.a.createElement("p",null,"Server side response:",B.message));return B.submitted?B.submitted&&!B.error?c.a.createElement(p,{child:H}):c.a.createElement(p,{child:U}):c.a.createElement(p,{child:G})}function C(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(""),u=Object(s.a)(o,2),i=u[0],d=u[1],b=Object(n.useState)({success:!1,message:null}),p=Object(s.a)(b,2),f=p[0],h=p[1],x=Object(n.useState)(!1),y=Object(s.a)(x,2),j=y[0],w=y[1],S=c.a.createElement("div",null,c.a.createElement(k,{text:"Email Address"}),c.a.createElement(N,{value:r,setValue:l,placeholder:"Email"}),c.a.createElement(k,{text:"Password"}),c.a.createElement(N,{type:"password",value:i,setValue:d,placeholder:"Password"}),c.a.createElement(m,{action:function(){var t,a;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={email:r,password:i},n.prev=1,n.next=4,g.a.awrap(O("user/login",t));case 4:a=n.sent,h({success:!0,message:null}),e.setSigned(!0),e.setEmail(t.email),e.setToken(a.data.token),e.setCompanyId(a.data.companyId),setTimeout((function(){return w(!0)}),1500),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),n.t0.response?h({success:!1,message:n.t0.response.data.message}):h({success:!1,message:n.t0.message});case 16:case"end":return n.stop()}}),null,null,[[1,13]])},text:"Log In"}),f.success?c.a.createElement("p",null,"Log in success!"):c.a.createElement("p",null,f.message));return j?c.a.createElement(v.a,{to:"/"}):c.a.createElement(E,{child:S})}function I(e){var t=e.text;return c.a.createElement("h1",{className:"text-left text-teal-500 font-bold text-xl mb-8"},t)}function V(e){var t=e.number,a=t>4?"bg-teal-800":t>2?"bg-teal-600":"bg-teal-400";return c.a.createElement("div",{className:"inline-flex rounded-full h-12 w-12 items-center justify-center text-white ".concat(a)},t)}function T(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)([]),u=Object(s.a)(o,2),i=u[0],d=u[1],b=Object(n.useState)(!1),E=Object(s.a)(b,2),f=E[0],v=E[1],h=Object(n.useState)(!0),x=Object(s.a)(h,2),y=x[0],j=x[1];Object(n.useEffect)((function(){!function(e){var t;g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.a.awrap(w(e));case 3:t=a.sent,j(!1),v(!0),console.log(t),"No results yet!"===t.data?(l(["No Data","No Data","No Data"]),d([0,0,0])):(l(t.data.measures),d(t.data.averages)),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),j(!1),console.log(a.t0.message);case 14:case"end":return a.stop()}}),null,null,[[0,10]])}("search/week?id=".concat(e.companyId))}),[e.companyId]);var O=c.a.createElement("img",{className:"inline-block px-10",src:"https://via.placeholder.com/300",alt:"placeholder for chart"}),k=c.a.createElement(m,{action:function(){return e.setEmployeeMode(!0)},text:"Questionnaire"}),N=c.a.createElement("h1",null,"Fetching insights, sit tight!"),S=c.a.createElement("div",null,c.a.createElement(I,{text:"Your Dashboard"}),c.a.createElement("div",{className:"flex align-center"},O,c.a.createElement("ul",{className:"inline-flex flex-col justify-center px-10"},r.map((function(e,t){return c.a.createElement("li",{className:"text-left py-5",key:e},c.a.createElement(V,{number:i[t]}),c.a.createElement("p",{className:"ml-10 inline-block"},e))})))),c.a.createElement("div",{className:"block py-10"},k)),C=c.a.createElement("h1",null,"Error fetching");return y&&!f?c.a.createElement(p,{child:N}):!y&&f?c.a.createElement(p,{child:S}):c.a.createElement(p,{child:C})}function L(){return c.a.createElement(o.b,{to:"/"},c.a.createElement("h1",{className:"text-left px-10 bg-teal-500 py-2 text-white text-2xl font-bold font-sans"},"SurveyPanda"))}function D(e){var t=c.a.createElement("div",{className:"text-white"},c.a.createElement(m,{action:e.logout,text:"Log Out"})),a=c.a.createElement(u,{link:"/login",text:"Log In"}),n=e.email?t:a;return c.a.createElement("nav",{className:"flex items-center justify-between flex-wrap bg-teal-500 p-2"},c.a.createElement("div",{className:"inline-flex justify-start"},c.a.createElement("div",{className:"flex items-center justify-start"},c.a.createElement(L,null)),c.a.createElement("div",{className:"hidden lg:flex md:items-center md:justify-start md:w-auto"},c.a.createElement(d,{text:"about",link:"/about"}),c.a.createElement(d,{text:"contact",link:"/contact"}),c.a.createElement(d,{text:"docs",link:"/docs"}))),c.a.createElement("div",{className:"flex items-center justify-end"},n))}var M=a(16);function P(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)({array:[]}),u=Object(s.a)(o,2),i=u[0],d=u[1],E=Object(n.useState)(!1),f=Object(s.a)(E,2),v=f[0],h=f[1],x=Object(n.useState)(0),y=Object(s.a)(x,2),j=y[0],k=y[1],N=Object(n.useState)(!1),S=Object(s.a)(N,2),C=S[0],I=S[1],V=Object(n.useState)(!1),T=Object(s.a)(V,2),L=T[0],D=T[1];Object(n.useEffect)((function(){v&&function(){var t,a;g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t={answers:i.array,id:e.companyId},h(!1),n.next=5,g.a.awrap(O("question/answer",t));case 5:a=n.sent,console.log(a),I(!0),setTimeout((function(){d({array:[],ready:!1}),k(0),h(!1),I(!1)}),3e3),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0),D(!0),setTimeout((function(){d({array:[],ready:!1}),k(0),D(!1)}),3e3);case 16:case"end":return n.stop()}}),null,null,[[0,11]])}()}),[e.companyId,i,v]),Object(n.useEffect)((function(){!function(){var t;g.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.a.awrap(w("question/today?id=".concat(e.companyId)));case 3:t=a.sent,console.log(t),l(t.data.questions.map((function(e){return e.text}))),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.message);case 11:case"end":return a.stop()}}),null,null,[[0,8]])}()}),[e.companyId]);var P=[1,2,3,4,5],q=P.map((function(e){return function(){d({array:[].concat(Object(M.a)(i.array),[e])}),j===r.length-1?h(!0):k(j+1)}})),F=c.a.createElement("h1",null,r[j]),B=c.a.createElement(m,{action:function(){return e.setEmployeeMode(!1)},text:"Dashboard"}),J=c.a.createElement("div",null,F,c.a.createElement(b,{actions:q,texts:P}),B),W=C?c.a.createElement("h1",null,"Success!"):L?c.a.createElement("h1",null,"Error!"):J;return c.a.createElement(p,{child:W})}function q(){var e=c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h1",null,"The team"),c.a.createElement("p",null,"Content Content Content")),c.a.createElement("div",null,c.a.createElement("h1",null,"Our vision"),c.a.createElement("p",null,"Content Content Content")));return c.a.createElement(E,{child:e})}function F(){var e=c.a.createElement("h1",null,"Docs");return c.a.createElement(E,{child:e})}function B(){var e=c.a.createElement("div",null,c.a.createElement("h1",null,"Contact"),c.a.createElement("a",{href:"https://github.com/frankisawesome"},"Frank Li's github"));return c.a.createElement(E,{child:e})}var J=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),u=Object(s.a)(l,2),m=u[0],i=u[1],d=Object(n.useState)(""),b=Object(s.a)(d,2),E=b[0],p=b[1],h=Object(n.useState)(""),g=Object(s.a)(h,2),x=g[0],y=g[1],j=Object(n.useState)(!1),O=Object(s.a)(j,2),w=O[0],k=O[1],N={setSigned:r,setEmail:i,setToken:p,setCompanyId:y,setEmployeeMode:k},I={signed:a,email:m,token:E,companyId:x,employeeMode:w,logout:function(){i(""),p(""),y(""),r(!1)}};return c.a.createElement("div",{className:"w-full min-h-screen font-mono text-center"},c.a.createElement(o.a,null,c.a.createElement(D,I),c.a.createElement(v.d,null,c.a.createElement(v.b,{path:"/register"},c.a.createElement(S,N)),c.a.createElement(v.b,{path:"/login"},c.a.createElement(C,N)),c.a.createElement(v.b,{path:"/about"},c.a.createElement(q,null)),c.a.createElement(v.b,{path:"/docs"},c.a.createElement(F,null)),c.a.createElement(v.b,{path:"/contact"},c.a.createElement(B,null)),c.a.createElement(v.b,{exact:!0,path:"/"},a?w?c.a.createElement(P,Object.assign({},I,N)):c.a.createElement(T,Object.assign({},I,N)):c.a.createElement(f,null)))))};a(58),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.ffa6fa76.chunk.js.map